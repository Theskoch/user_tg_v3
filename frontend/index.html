<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Mini App</title>

  <link rel="stylesheet" href="/styles.css?v=20266206_50">

  <!-- Telegram WebApp -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- jsQR (camera QR scanner) -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>

  <!-- (optional) QRCode lib for drawing QR in sheet - –µ—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –±—ã–ª–∞, –æ—Å—Ç–∞–≤—å —Å–≤–æ—é
       –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –º–æ–∂–Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞—Ç—å, sheet –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script> -->
</head>
<body>

  <!-- APP -->
  <div id="app">

    <!-- TOP BAR -->
    <div class="topbar">
      <div class="left">
        <div id="avatar" class="avatar">U</div>
        <div class="balanceBox" id="balanceBtn" role="button" tabindex="0">
          <div class="balanceLabel">–ë–∞–ª–∞–Ω—Å</div>
          <div class="balanceValue" id="balance">‚Äî</div>
        </div>
      </div>

      <div class="menu">
        <button id="burger" class="burger" type="button" aria-label="menu">
          <span></span><span></span><span></span>
        </button>

        <div id="dropdown" class="dropdown" style="display:none">
          <button id="btnRefresh" class="dropdown-btn" type="button">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
          <!-- –∞–¥–º–∏–Ω-–∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—Å—è JS-–æ–º, —Å –æ—Ç—Å—Ç—É–ø–æ–º -->
        </div>
      </div>
    </div>

    <!-- PAGES -->
    <div class="pages">

      <!-- HOME -->
      <div id="pageHome" class="page page-active">
        <div class="card">
          <div class="cardTitle">–¢–∞—Ä–∏—Ñ</div>
          <div class="cardRow">
            <div>
              <div class="bigText" id="tariffName">‚Äî</div>
              <div class="muted" id="tariffPrice">‚Äî</div>
            </div>
            <div class="pill" id="nextPay">‚Äî</div>
          </div>
        </div>

        <div class="card">
          <div class="cardTitle">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è</div>
          <div id="vpnList" class="list">
            <div class="skeleton">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
          </div>
        </div>
      </div>

      <!-- TOPUP -->
      <div id="pageTopup" class="page">
        <div class="pageHeader">
          <button id="backFromTopup" class="bigBtn ghost" type="button">‚Üê –ù–∞–∑–∞–¥</button>
          <div class="pageTitle">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
        </div>

        <div class="card">
          <div class="cardTitle">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–±</div>
          <div class="grid2">
            <button class="bigBtn" type="button">‚≠êÔ∏è –ó–∞ –∑–≤–µ–∑–¥—ã</button>
            <button class="bigBtn" type="button">ü™ô –ö—Ä–∏–ø—Ç–∞</button>
            <button class="bigBtn" type="button">üè¶ –ü–µ—Ä–µ–≤–æ–¥</button>
            <button class="bigBtn ghost" type="button">‚ÑπÔ∏è –ò–Ω—Ñ–æ</button>
          </div>
          <div class="muted" style="margin-top:12px">
            –ü–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∏. –ü–æ–∑–∂–µ –ø–æ–¥–∫–ª—é—á–∏–º –æ–ø–ª–∞—Ç—É.
          </div>
        </div>
      </div>

      <!-- ADMIN -->
      <div id="pageAdmin" class="page">
        <div class="pageHeader">
          <button id="adminBackHome" class="bigBtn ghost" type="button">‚Üê –ù–∞–∑–∞–¥</button>
          <div class="pageTitle">–ê–¥–º–∏–Ω–∫–∞</div>
        </div>

        <div class="card">
          <div class="cardTitle">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</div>
          <div class="grid2">
            <button id="invUser" class="bigBtn" type="button">+ User</button>
            <button id="invAdmin" class="bigBtn" type="button">+ Admin</button>
          </div>
          <div class="muted" style="margin-top:10px">
            –ö–æ–¥ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä.
          </div>
        </div>

        <div class="card">
          <div class="cardTitle">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
          <div id="adminUsersList" class="list"></div>
        </div>
      </div>

      <!-- ADMIN CONFIGS -->
      <div id="pageAdminConfigs" class="page">
        <div class="pageHeader">
          <button id="configsBackAdmin" class="bigBtn ghost" type="button">‚Üê –ù–∞–∑–∞–¥</button>
          <div class="pageTitle" id="configsTitle">–ö–æ–Ω—Ñ–∏–≥–∏</div>
        </div>

        <div class="card">
          <div class="cardTitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
          <div class="grid2">
            <button id="cfgAddBtn" class="bigBtn" type="button">+ –î–æ–±–∞–≤–∏—Ç—å</button>
            <button id="cfgCloseComposerBtn" class="bigBtn ghost" type="button">–°–∫—Ä—ã—Ç—å</button>
          </div>

          <div id="cfgComposer" class="composer" style="display:none">
            <textarea id="cfgText" class="bigInput" placeholder="–í—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–ª–∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR"></textarea>
            <div class="grid2" style="margin-top:12px">
              <button id="scanQrBtn" class="bigBtn ghost" type="button">–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR</button>
              <button id="saveCfgBtn" class="bigBtn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
            <div id="cfgErr" class="errText" style="display:none"></div>
          </div>
        </div>

        <div class="card">
          <div class="cardTitle">–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ñ–∏–≥–æ–≤</div>
          <div id="adminConfigsList" class="list"></div>
        </div>
      </div>

    </div>
  </div>

  <!-- SHEET OVERLAY -->
  <div id="sheetOverlay" class="sheetOverlay"></div>
  <div id="sheet" class="sheet">
    <div class="sheetTop">
      <div id="sheetTitle" class="sheetTitle">–ö–æ–Ω—Ñ–∏–≥</div>
      <button id="sheetClose" class="sheetClose" type="button">‚úï</button>
    </div>

    <div id="qr" class="qr"></div>

    <div id="configBox" class="configBox">
      <div class="muted">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</div>
      <pre id="configText" class="configText"></pre>
    </div>
  </div>

  <script src="/app.js?v=20266206_50"></script>
</body>
</html>
