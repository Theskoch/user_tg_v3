<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Mini App</title>

  <link rel="stylesheet" href="/styles.css?v=20276206_80">

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- QR scanner lib -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
<body>

<div id="app" class="app">

  <!-- TOP -->
  <div class="topbar">
    <div class="top-left">
      <div id="avatar" class="avatar">U</div>

      <button id="balanceBtn" class="balanceBtn" type="button">
        <div class="balanceLabel">–ë–∞–ª–∞–Ω—Å</div>
        <div id="balance" class="balanceValue">‚Äî</div>
      </button>
    </div>

    <div class="menu">
      <button id="burger" class="burger" type="button" aria-label="menu">
        <span></span><span></span><span></span>
      </button>

      <div id="dropdown" class="dropdown" style="display:none">
        <button id="btnRefresh" class="dropdown-btn" type="button">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
        <!-- –∞–¥–º–∏–Ω-–∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
      </div>
    </div>
  </div>

  <!-- PAGES -->
  <div class="pages">
    <!-- HOME -->
    <div id="pageHome" class="page page-active">
      <div class="card">
        <div class="cardTitle">–¢–∞—Ä–∏—Ñ</div>
        <div class="row">
          <div>
            <div id="tariffName" class="big">‚Äî</div>
            <div id="tariffPrice" class="muted">‚Äî</div>
          </div>
          <div id="nextPay" class="pill">‚Äî</div>
        </div>
      </div>

      <div class="card">
        <div class="cardTitle">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è</div>
        <div id="vpnList" class="list">
          <div class="muted">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
        </div>
      </div>
    </div>

    <!-- TOPUP -->
    <div id="pageTopup" class="page">
      <div class="pageHeader">
        <button id="backFromTopup" class="btn ghost" type="button">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="pageTitle">–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
      </div>

      <div class="card">
        <div class="cardTitle">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</div>
        <div class="grid">
          <button class="btn" type="button">‚≠êÔ∏è –ó–∞ –∑–≤–µ–∑–¥—ã</button>
          <button class="btn" type="button">ü™ô –ö—Ä–∏–ø—Ç–∞</button>
          <button class="btn" type="button">üè¶ –ü–µ—Ä–µ–≤–æ–¥</button>
        </div>
        <div class="muted" style="margin-top:10px">–ü–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∏.</div>
      </div>
    </div>

    <!-- ADMIN -->
    <div id="pageAdmin" class="page">
      <div class="pageHeader">
        <button id="adminBackHome" class="btn ghost" type="button">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="pageTitle">–ê–¥–º–∏–Ω–∫–∞</div>
      </div>

      <div class="card">
        <div class="cardTitle">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</div>
        <div class="grid">
          <button id="invUser" class="btn" type="button">+ User</button>
          <button id="invAdmin" class="btn" type="button">+ Admin</button>
        </div>
        <div class="muted" style="margin-top:10px">–ö–æ–¥ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä.</div>
      </div>

      <div class="card">
        <div class="cardTitle">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
        <div id="adminUsersList" class="list"></div>
      </div>
    </div>

    <!-- ADMIN USER (–±–∞–ª–∞–Ω—Å + –∫–Ω–æ–ø–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤) -->
    <div id="pageAdminUser" class="page">
      <div class="pageHeader">
        <button id="adminUserBack" class="btn ghost" type="button">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="pageTitle" id="adminUserTitle">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
      </div>

      <div class="card">
        <div class="cardTitle">–ë–∞–ª–∞–Ω—Å</div>
        <div class="row">
          <div class="muted">–¢–µ–∫—É—â–∏–π:</div>
          <div class="big" id="adminUserBalanceNow">‚Äî</div>
        </div>

        <input id="adminUserBalanceInput" class="input" placeholder="–ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å, —á–∏—Å–ª–æ" />
        <div class="grid" style="margin-top:10px">
          <button id="adminSaveBalance" class="btn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
        <div id="adminBalanceErr" class="err" style="display:none"></div>
      </div>

      <div class="card">
        <div class="cardTitle">–¢–∞—Ä–∏—Ñ</div>

        <div class="row">
          <div class="muted">–¢–µ–∫—É—â–∏–π:</div>
          <div class="big" id="adminUserTariffNow">‚Äî</div>
        </div>

        <select id="adminTariffSelect" class="input"></select>

        <div class="grid" style="margin-top:10px">
          <button id="adminSaveTariff" class="btn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ</button>
        </div>

        <div id="adminTariffErr" class="err" style="display:none"></div>
      </div>

      <div class="card">
        <div class="cardTitle">–î–µ–π—Å—Ç–≤–∏—è</div>
        <button id="adminDeleteUser" class="btn danger" type="button">–£–¥–∞–ª–∏—Ç—å —É—á—ë—Ç–∫—É</button>
        <button id="adminOpenConfigs" class="btn ghost" type="button">–ö–æ–Ω—Ñ–∏–≥–∏</button>
      </div>
    </div>

    <!-- ADMIN CONFIGS -->
    <div id="pageAdminConfigs" class="page">
      <div class="pageHeader">
        <button id="configsBack" class="btn ghost" type="button">‚Üê –ù–∞–∑–∞–¥</button>
        <div class="pageTitle" id="configsTitle">–ö–æ–Ω—Ñ–∏–≥–∏</div>
      </div>

      <div class="card">
        <div class="cardTitle">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥</div>

        <div class="row" style="gap:10px">
          <button id="cfgToggleComposer" class="btn" type="button">+</button>
          <div class="muted">–í—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç –∏–ª–∏ —Å–∫–∞–Ω–∏—Ä—É–π QR</div>
        </div>

        <div id="cfgComposer" style="display:none;margin-top:10px">
          <textarea id="cfgText" class="textarea" placeholder="vless://... –∏–ª–∏ –ª—é–±–æ–π —Ç–µ–∫—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"></textarea>

          <div class="grid" style="margin-top:10px">
            <button id="scanQrBtn" class="btn ghost" type="button">–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR</button>
            <button id="saveCfgBtn" class="btn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>

          <div id="cfgErr" class="err" style="display:none"></div>
        </div>
      </div>

      <div class="card">
        <div class="cardTitle">–°–ø–∏—Å–æ–∫</div>
        <div id="adminConfigsList" class="list"></div>
      </div>
    </div>
  </div>
</div>

<!-- SHEET -->
<div id="sheetOverlay" class="sheetOverlay"></div>
<div id="sheet" class="sheet">
  <div class="sheetTop">
    <div id="sheetTitle" class="sheetTitle">–ö–æ–Ω—Ñ–∏–≥</div>
    <button id="sheetClose" class="btn ghost" type="button">‚úï</button>
  </div>

  <div id="qr" class="qr"></div>

  <div id="configBox" class="configBox">
    <div class="muted">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</div>
    <pre id="configText" class="configText"></pre>
  </div>
</div>

<script src="/app.js?v=20270206_80"></script>
</body>
</html>
